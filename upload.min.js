jQuery(document).ready(function(a){function o(b){var c=b.attr("name");return""===b.val()?(!a(".error."+c).length>0&&(a('<div class="error '+c+'">Please fill in this field.</div>').insertAfter(b),b.addClass("error-input")),!1):!0}function p(){var b=j.val(),c=b.indexOf("@"),d=b.lastIndexOf(".");return""!==b&&(1>c||c+2>d||d+2>=b.length)?(!a(".error.email-syntax").length>0&&(a('<div class="error email-syntax">Please check your email address, it doesn\'t look correct.</div>').insertAfter(j),j.addClass("error-input")),!1):!0}function q(){return"-1"==a('input[name="os0"]').val()?(!a(".error.style-selected").length>0&&a('<div class="error style-selected">Please select a style.</div>').insertAfter(k),!1):!0}function r(){return"Awesome - 2 weeks"!=a('input[name="os0"]').val()&&"Awesome - 1 week"!=a('input[name="os0"]').val()||"N/A"!=a('input[name="os1"]').val()?!0:(!a(".error.template-selected").length>0&&a('<br><br><div class="error template-selected">Please select an Awesome template.</div>').insertAfter(l),!1)}function s(){var b=m.val();return""!==b&&b.indexOf("drive.google")<0?(!a(".error.file-link").length>0&&(a('<div class="error file-link">That doesn\'t look like a Google Drive link. Please use Google Drive to share your files.</div>').insertAfter(m),m.addClass("error-input")),!1):!0}function t(){return n.prop("checked")?!0:(!a(".error.check-terms").length>0&&a('<div class="error check-terms">Please read and agree to the terms and conditions before continuing.</div>').insertAfter(".terms-activate"),!1)}function u(b){b===n?n.change(function(){a(".error.check-terms").remove()}):b===l?l.click(function(){a(".error.template-selected").remove()}):b===k?k.click(function(){a(".error.style-selected").remove()}):b.focus(function(){b.next(".error").remove(),b.removeClass("error-input")})}a(function(){a("#cd-dropdown").dropdown()}),a(function(){a("#cd-dropdown2").dropdown()}),a(".terms-activate").click(function(b){b.preventDefault(),a(".overlay").css({height:a(document).height()}),a(".terms-text").fadeIn("slow"),a(".overlay").fadeIn("slow")}),a(".exit").click(function(){a(".terms-text").fadeOut("slow"),a(".overlay").fadeOut("slow")}),a(".overlay").click(function(b){b.target===this&&(a(".terms-text").fadeOut("slow"),a(".overlay").fadeOut("slow"))}),a(".dropdown1").on("click","li",function(){"Awesome - 2 weeks"==a('input[name="os0"]').val()||"Awesome - 1 week"==a('input[name="os0"]').val()?(a(".dropdown2").css("visibility","visible"),a(".dropdown2 li").css("border","1px solid #C5C5C5"),a(".dropdown2 .cd-dropdown > span").css("border","1px solid #C5C5C5")):(a(".dropdown2").css("visibility","hidden"),a(".dropdown2 li").css("border","0"),a(".dropdown2 .cd-dropdown > span").css("border","0"))});var b=a(".more"),c=a(".soundtrack .hidden");b.click(function(){"More"==b.val()?(c.show("slow"),b.val("Less")):(c.hide("slow"),b.val("More"))});var d=a("input.paid"),e=a("input.pay"),f=a("form.upload"),g=a(".permalink").attr("id");d.click(function(){f.attr("action",g),f.submit()}),e.click(function(){f.attr("action","https://www.paypal.com/cgi-bin/webscr"),f.submit()});var h=a('input[name="first_name"]'),i=a('input[name="last_name"]'),j=a('input[name="email"]'),k=a(".dropdown1"),l=a(".dropdown2"),m=a('input[name="os3"]'),n=a('input[name="terms"]');h.blur(function(){o(h)}),i.blur(function(){o(i)}),j.blur(function(){o(j),p()}),m.blur(function(){o(m),s()}),a("form.upload").submit(function(){var b=[[o(h),h],[o(i),i],[o(j),j],[p(),j],[q(),k],[r(),l],[o(m),m],[s(),m],[t(),n]],d=!0,e=null;return a.each(b,function(a,b){b[0]===!1&&(d=!1,e=null===e?e=b[1].offset().top-30:e)}),d?!0:(a("html, body").animate({scrollTop:e},800),!1)}),u(h),u(i),u(j),u(m),u(k),u(l),u(n)}),function(a,b,c){"use strict";a.DropDown=function(b,c){this.$el=a(c),this._init(b)},a.DropDown.defaults={speed:300,easing:"ease",gutter:0,stack:!0,delay:0,random:!1,rotated:!1,slidingIn:!1,onOptionSelect:function(){return!1}},a.DropDown.prototype={_init:function(b){this.options=a.extend(!0,{},a.DropDown.defaults,b),this._layout(),this._initEvents()},_layout:function(){var b=this;this.minZIndex=1e3;var d=this._transformSelect();this.opts=this.listopts.children("li"),this.optsCount=this.opts.length,this.size={width:this.dd.width(),height:this.dd.height()};var e=this.$el.attr("name"),f=this.$el.attr("id"),g=e!==c?e:f!==c?f:"cd-dropdown-"+(new Date).getTime();this.inputEl=a('<input type="hidden" name="'+g+'" value="'+d+'"></input>').insertAfter(this.selectlabel),this.selectlabel.css("z-index",this.minZIndex+this.optsCount),this._positionOpts(),Modernizr.csstransitions&&setTimeout(function(){b.opts.css("transition","all "+b.options.speed+"ms "+b.options.easing)},25)},_transformSelect:function(){var b="",d="",e=-1;return this.$el.children("option").each(function(){var f=a(this),g=isNaN(f.attr("value"))?f.attr("value"):Number(f.attr("value")),h=f.attr("class"),i=f.attr("selected"),j=f.text();-1!==g&&(b+=h!==c?'<li data-value="'+g+'"><span class="'+h+'">'+j+"</span></li>":'<li data-value="'+g+'"><span>'+j+"</span></li>"),i&&(d=j,e=g)}),this.listopts=a("<ul/>").append(b),this.selectlabel=a("<span/>").append(d),this.dd=a('<div class="cd-dropdown"/>').append(this.selectlabel,this.listopts).insertAfter(this.$el),this.$el.remove(),e},_positionOpts:function(){var c=this;this.listopts.css("height","auto"),this.opts.each(function(b){a(this).css({zIndex:c.minZIndex+c.optsCount-1-b,top:c.options.slidingIn?(b+1)*(c.size.height+c.options.gutter):0,left:0,marginLeft:c.options.slidingIn?0===b%2?c.options.slidingIn:-c.options.slidingIn:0,opacity:c.options.slidingIn?0:1,transform:"none"})}),this.options.slidingIn||this.opts.eq(this.optsCount-1).css({top:this.options.stack?9:0,left:this.options.stack?4:0,width:this.options.stack?this.size.width-8:this.size.width,transform:"none"}).end().eq(this.optsCount-2).css({top:this.options.stack?6:0,left:this.options.stack?2:0,width:this.options.stack?this.size.width-4:this.size.width,transform:"none"}).end().eq(this.optsCount-3).css({top:this.options.stack?3:0,left:0,transform:"none"})},_initEvents:function(){var b=this;this.selectlabel.on("mousedown.dropdown",function(){return b.opened?b.close():b.open(),!1}),this.opts.on("click.dropdown",function(){if(b.opened){var c=a(this);b.options.onOptionSelect(c),b.inputEl.val(c.data("value")),b.selectlabel.html(c.html()),b.close()}})},open:function(){var b=this;this.dd.toggleClass("cd-active"),this.listopts.css("height",(this.optsCount+1)*(this.size.height+this.options.gutter)),this.opts.each(function(c){a(this).css({opacity:1,top:b.options.rotated?b.size.height+b.options.gutter:(c+1)*(b.size.height+b.options.gutter),left:b.options.random?Math.floor(11*Math.random()-5):0,width:b.size.width,marginLeft:0,transform:b.options.random?"rotate("+Math.floor(11*Math.random()-5)+"deg)":b.options.rotated?"right"===b.options.rotated?"rotate(-"+5*c+"deg)":"rotate("+5*c+"deg)":"none",transitionDelay:b.options.delay&&Modernizr.csstransitions?b.options.slidingIn?c*b.options.delay+"ms":(b.optsCount-1-c)*b.options.delay+"ms":0})}),this.opened=!0},close:function(){var b=this;this.dd.toggleClass("cd-active"),this.options.delay&&Modernizr.csstransitions&&this.opts.each(function(c){a(this).css({"transition-delay":b.options.slidingIn?(b.optsCount-1-c)*b.options.delay+"ms":c*b.options.delay+"ms"})}),this._positionOpts(!0),this.opened=!1}},a.fn.dropdown=function(b){var c=a.data(this,"dropdown");if("string"==typeof b){var d=Array.prototype.slice.call(arguments,1);this.each(function(){c[b].apply(c,d)})}else this.each(function(){c?c._init():c=a.data(this,"dropdown",new a.DropDown(b,this))});return c}}(jQuery,window);